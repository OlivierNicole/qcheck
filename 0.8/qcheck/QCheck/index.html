<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>QCheck (qcheck.QCheck)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../index.html">qcheck</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">QCheck</span></h1></header><h2>Quickcheck inspired property-based testing</h2><p>The library takes inspiration from Haskell's QuickCheck library. The
rough idea is that the programmer describes invariants that values of
a certain type need to satisfy (&quot;properties&quot;), as functions from this type
to bool. She also needs to describe how to generate random values of the type,
so that the property is tried and checked on a number of random instances.</p><p>This explains the organization of this module:</p><ul><li>'a arbitrary is used to describe how to generate random values,
shrink them (make counter-examples as small as possible), print
them, etc. Auxiliary modules such as <a href="Gen/index.html">Gen</a>, <a href="Print/index.html">Print</a>, and <a href="Shrink/index.html">Shrink</a>
can be used along with <a href="index.html#val-make">make</a> to build one's own arbitrary instances.</li></ul><ul><li><a href="Test/index.html">Test</a> is used to describe a single test, that is, a property of
type <code class="code">'a -&gt; bool</code> combined with an <code class="code">'a arbitrary</code> that is used to generate
the test cases for this property. Optional parameters
allow to specify the random generator state, number of instances to generate
and test, etc.</li></ul><p>Examples:</p><ul><li>List.rev is involutive:</li></ul><pre><code class="code">
let test =
  QCheck.(Test.make ~count:1000
   (list int) (fun l -&gt; List.rev (List.rev l) = l));;

QCheck.Test.check_exn test;;</code></pre><ul><li>Not all lists are sorted (false property that will fail. The 15 smallest
counter-example lists will be printed):</li></ul><pre><code class="code">let test = QCheck.(
  Test.make
    ~count:10_000 ~max_fail:3
    (list small_nat)
    (fun l -&gt; l = List.sort compare l));;
QCheck.Test.check_exn test;;</code></pre><ul><li>generate 20 random trees using <a href="Gen/index.html#val-fix">Gen.fix</a> :</li></ul><pre><code class="code">type tree = Leaf of int | Node of tree * tree

let leaf x = Leaf x
let node x y = Node (x,y)

let g = QCheck.Gen.(sized @@ fix
  (fun self n -&gt; match n with
    | 0 -&gt; map leaf nat
    | n -&gt;
      frequency
        [1, map leaf nat;
         2, map2 node (self (n/2)) (self (n/2))]
    ))

Gen.generate ~n:20 g;;</code></pre><p>More complex and powerful combinators can be found in Gabriel Scherer's
Generator module. Its documentation can be found
<a href="http://gasche.github.io/random-generator/doc/Generator.html">here</a>.</p><div class="spec val" id="val-(==&gt;)"><a href="#val-(==&gt;)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(==&gt;) : bool <span class="keyword">&#8209;&gt;</span> bool <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p><code class="code">b1 ==&gt; b2</code> is the logical implication <code class="code">b1 =&gt; b2</code>
ie <code class="code">not b1 || b2</code> (except that it is strict and will interact
better with <a href="Test/index.html#val-check_exn">Test.check_exn</a> and the likes, because they will know
the precondition was not satisfied.).</p><p><b>WARNING</b>: this function should only be used in a property
(see <a href="Test/index.html#val-make">Test.make</a>), because it raises a special exception in case of
failure of the first argument, to distinguish between failed test
and failed precondition. Because of OCaml's evaluation order,
both <code class="code">b1</code> and <code class="code">b2</code> are always evaluated; if <code class="code">b2</code> should only be
evaluated when <code class="code">b1</code> holds, see <a href="index.html#val-assume">assume</a>.</p></div></div><div class="spec val" id="val-assume"><a href="#val-assume" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>assume : bool <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p><code class="code">assume cond</code> checks the precondition <code class="code">cond</code>, and does nothing
if <code class="code">cond=true</code>. If <code class="code">cond=false</code>, it interrupts the current test.</p><p><b>WARNING</b> This function, like <a href="index.html#val-(==&gt;)">(==&gt;)</a>, should only be used in
a test, not outside.
Example:
</p><pre><code class="code">      Test.make (list int) (fun l -&gt;
        assume (l &lt;&gt; []);
        List.hd l :: List.tl l = l)</code></pre><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.5.1</li></ul></div></div><div class="spec val" id="val-assume_fail"><a href="#val-assume_fail" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>assume_fail : unit <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span></code></div><div class="doc"><p><code class="code">assume_fail ()</code> is like <code class="code">assume false</code>, but can take any type
since we know it always fails (like <code class="code">assert false</code>).
This is useful to ignore some branches in <code class="code">if</code> or <code class="code">match</code>.</p><p>Example:
</p><pre><code class="code">      Test.make (list int) (function
        | [] -&gt; assume_fail ()
        | _::_ as l -&gt; List.hd l :: List.tl l = l)</code></pre><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.5.1</li></ul></div></div><div class="spec module" id="module-Gen"><a href="#module-Gen" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Gen/index.html">Gen</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"><h3>Generate Random Values</h3></div></div><h3>Pretty printing</h3><div class="spec module" id="module-Print"><a href="#module-Print" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Print/index.html">Print</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"><h3>Show Values</h3></div></div><div class="spec module" id="module-Iter"><a href="#module-Iter" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Iter/index.html">Iter</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"><h3>Iterators</h3></div></div><div class="spec module" id="module-Shrink"><a href="#module-Shrink" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Shrink/index.html">Shrink</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"><h3>Shrink Values</h3></div></div><h3>Observe Values</h3><p>Observables are usable as arguments for random functions.
The random function will observe its arguments in a way
that is determined from the observable instance.</p><p>Inspired from https://blogs.janestreet.com/quickcheck-for-core/
and Koen Claessen's &quot;Shrinking and Showing functions&quot;.</p><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.6</li></ul><div class="spec module" id="module-Observable"><a href="#module-Observable" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Observable/index.html">Observable</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><h3>Arbitrary</h3><p>A value of type <code class="code">'a arbitrary</code> glues together a random generator,
and optional functions for shrinking, printing, computing the size,
etc. It is the &quot;normal&quot; way of describing how to generate
values of a given type, to be then used in tests (see <a href="Test/index.html">Test</a>).</p><div class="spec type" id="type-stat"><a href="#type-stat" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'a stat</code><code><span class="keyword"> = </span>string<span class="keyword"> * </span>(<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> int)</code><code></code></div><div class="doc"><p>A statistic on a distribution of values of type <code class="code">'a</code>.
The function <b>MUST</b> return a positive integer.</p></div></div><div class="spec type" id="type-arbitrary"><a href="#type-arbitrary" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'a arbitrary</code><code></code><code><span class="keyword"> = </span><span class="keyword">private </span></code><code>{</code><table class="record"><tr id="type-arbitrary.gen" class="anchored"><td class="def field"><a href="#type-arbitrary.gen" class="anchor"></a><code>gen : <span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a>;</code></td></tr><tr id="type-arbitrary.print" class="anchored"><td class="def field"><a href="#type-arbitrary.print" class="anchor"></a><code>print : (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> string) option;</code></td><td class="doc"><p>(** print values *)</p></td></tr><tr id="type-arbitrary.small" class="anchored"><td class="def field"><a href="#type-arbitrary.small" class="anchor"></a><code>small : (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> int) option;</code></td><td class="doc"><p>(** size of example *)</p></td></tr><tr id="type-arbitrary.shrink" class="anchored"><td class="def field"><a href="#type-arbitrary.shrink" class="anchor"></a><code>shrink : <span class="type-var">'a</span> <a href="Shrink/index.html#type-t">Shrink.t</a> option;</code></td><td class="doc"><p>(** shrink to smaller examples *)</p></td></tr><tr id="type-arbitrary.collect" class="anchored"><td class="def field"><a href="#type-arbitrary.collect" class="anchor"></a><code>collect : (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> string) option;</code></td><td class="doc"><p>(** map value to tag, and group by tag *)</p></td></tr><tr id="type-arbitrary.stats" class="anchored"><td class="def field"><a href="#type-arbitrary.stats" class="anchor"></a><code>stats : <span class="type-var">'a</span> <a href="index.html#type-stat">stat</a> list;</code></td><td class="doc"><p>(** statistics to collect and print *)</p></td></tr></table><code>}</code><code></code></div><div class="doc"><p>A value of type <code class="code">'a arbitrary</code> is an object with a method for generating random
values of type <code class="code">'a</code>, and additional methods to compute the size of values,
print them, and possibly shrink them into smaller counter-examples.</p><p><b>NOTE</b> the collect field is unstable and might be removed, or
moved into <a href="Test/index.html">Test</a>.</p><p>Made private</p><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.8</li></ul></div></div><div class="spec val" id="val-make"><a href="#val-make" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>make : ?&#8288;print:<span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;small:(<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> int) <span class="keyword">&#8209;&gt;</span> ?&#8288;shrink:<span class="type-var">'a</span> <a href="Shrink/index.html#type-t">Shrink.t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;collect:(<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> string) <span class="keyword">&#8209;&gt;</span> ?&#8288;stats:<span class="type-var">'a</span> <a href="index.html#type-stat">stat</a> list <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Builder for arbitrary. Default is to only have a generator, but other
arguments can be added.</p><ul class="at-tag"><li><span class="at-tag parameter">Parameter</span> <span class="module-path">print</span>: printer for values (counter-examples)</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">collect</span>: for statistics</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">shrink</span>: to shrink counter-examples</li></ul></div></div><div class="spec val" id="val-set_print"><a href="#val-set_print" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_print : <span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"></div></div><div class="spec val" id="val-set_small"><a href="#val-set_small" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_small : (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> int) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"></div></div><div class="spec val" id="val-set_shrink"><a href="#val-set_shrink" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_shrink : <span class="type-var">'a</span> <a href="Shrink/index.html#type-t">Shrink.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"></div></div><div class="spec val" id="val-set_collect"><a href="#val-set_collect" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_collect : (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> string) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"></div></div><div class="spec val" id="val-set_stats"><a href="#val-set_stats" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_stats : <span class="type-var">'a</span> <a href="index.html#type-stat">stat</a> list <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.6</li></ul></div></div><div class="spec val" id="val-add_shrink_invariant"><a href="#val-add_shrink_invariant" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>add_shrink_invariant : (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> bool) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Update shrinker by only keeping smaller values satisfying the
given invariant.</p><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.8</li></ul></div></div><div class="spec val" id="val-set_gen"><a href="#val-set_gen" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_gen : <span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Change the generator</p><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.7</li></ul></div></div><div class="spec val" id="val-add_stat"><a href="#val-add_stat" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>add_stat : <span class="type-var">'a</span> <a href="index.html#type-stat">stat</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Add a statistic to the arbitrary instance.</p><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.6</li></ul></div></div><div class="spec val" id="val-gen"><a href="#val-gen" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>gen : <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a></code></div><div class="doc"><p>Access the underlying random generator of this arbitrary object.</p><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.6</li></ul></div></div><h3>Tests</h3><p>A test is a universal property of type <code class="code">foo -&gt; bool</code> for some type <code class="code">foo</code>,
with an object of type <code class="code">foo arbitrary</code> used to generate, print, etc. values
of type <code class="code">foo</code>.</p><p>See <a href="Test/index.html#val-make">Test.make</a> to build a test, and <a href="Test/index.html#val-check_exn">Test.check_exn</a> to
run one test simply.
For more serious testing, it is better to create a testsuite
and use <a href="../QCheck_runner/index.html">QCheck_runner</a>.</p><div class="spec module" id="module-TestResult"><a href="#module-TestResult" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="TestResult/index.html">TestResult</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"><p>Result of running a test</p></div></div><div class="spec module" id="module-Test"><a href="#module-Test" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Test/index.html">Test</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><h3>Sub-tests</h3><p>The infrastructure used to find counter-examples to properties can
also be used to find data satisfying a predicate,
<i>within a property being tested</i>.</p><p>See https://github.com/c-cube/qcheck/issues/31</p><div class="spec exception" id="exception-No_example_found"><a href="#exception-No_example_found" class="anchor"></a><div class="def exception"><code><span class="keyword">exception </span></code><code><span class="exception">No_example_found</span><span class="keyword"> of </span>string</code></div><div class="doc"></div></div><div class="spec val" id="val-find_example"><a href="#val-find_example" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>find_example : ?&#8288;name:string <span class="keyword">&#8209;&gt;</span> ?&#8288;count:int <span class="keyword">&#8209;&gt;</span> f:(<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> bool) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a></code></div><div class="doc"><p><code class="code">find_example ~f gen</code> uses <code class="code">gen</code> to generate some values of type <code class="code">'a</code>,
and checks them against <code class="code">f</code>. If such a value is found, it is returned.
Otherwise an exception is raised.
<b>NOTE</b> this should only be used from within a property in <a href="Test/index.html#val-make">Test.make</a>.</p><ul class="at-tag"><li><span class="at-tag parameter">Parameter</span> <span class="module-path">count</span>: number of attempts.</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">name</span>: description of the example to find (used in the exception).</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">f</span>: the property that the example must satisfy.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">No_example_found</span>: if no example is found within <code class="code">count</code> tries.</li><li><span class="at-tag since">Since</span>: 0.6</li></ul></div></div><div class="spec val" id="val-find_example_gen"><a href="#val-find_example_gen" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>find_example_gen : ?&#8288;rand:Random.State.t <span class="keyword">&#8209;&gt;</span> ?&#8288;name:string <span class="keyword">&#8209;&gt;</span> ?&#8288;count:int <span class="keyword">&#8209;&gt;</span> f:(<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> bool) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span></code></div><div class="doc"><p>Toplevel version of <a href="index.html#val-find_example">find_example</a>.
<code class="code">find_example_gen ~f arb ~n</code> is roughly the same as
<code class="code">Gen.generate1 (find_example ~f arb |&gt; gen)</code>.</p><ul class="at-tag"><li><span class="at-tag parameter">Parameter</span> <span class="module-path">rand</span>: the random state to use to generate inputs.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">No_example_found</span>: if no example was found within <code class="code">count</code> tries.</li><li><span class="at-tag since">Since</span>: 0.6</li></ul></div></div><h3>Combinators for <a href="index.html#type-arbitrary">arbitrary</a></h3><div class="spec val" id="val-choose"><a href="#val-choose" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>choose : <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> list <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Choose among the given list of generators. The list must not
be empty; if it is Invalid_argument is raised.</p></div></div><div class="spec val" id="val-unit"><a href="#val-unit" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>unit : unit <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Always generates <code class="code">()</code>, obviously.</p></div></div><div class="spec val" id="val-bool"><a href="#val-bool" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>bool : bool <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Uniform boolean generator.</p></div></div><div class="spec val" id="val-float"><a href="#val-float" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>float : float <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Generates regular floats (no nan and no infinities).</p></div></div><div class="spec val" id="val-pos_float"><a href="#val-pos_float" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pos_float : float <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Positive float generator (no nan and no infinities).</p></div></div><div class="spec val" id="val-neg_float"><a href="#val-neg_float" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>neg_float : float <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Negative float generator (no nan and no infinities).</p></div></div><div class="spec val" id="val-int"><a href="#val-int" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>int : int <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Int generator. Uniformly distributed.</p></div></div><div class="spec val" id="val-int_bound"><a href="#val-int_bound" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>int_bound : int <span class="keyword">&#8209;&gt;</span> int <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p><code class="code">int_bound n</code> is uniform between <code class="code">0</code> and <code class="code">n</code> included.</p></div></div><div class="spec val" id="val-int_range"><a href="#val-int_range" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>int_range : int <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> int <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p><code class="code">int_range a b</code> is uniform between <code class="code">a</code> and <code class="code">b</code> included. <code class="code">b</code> must be
larger than <code class="code">a</code>.</p></div></div><div class="spec val" id="val-small_nat"><a href="#val-small_nat" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>small_nat : int <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Small unsigned integers.</p><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.5.1</li></ul></div></div><div class="spec val" id="val-small_int"><a href="#val-small_int" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>small_int : int <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Small unsigned integers. See <a href="Gen/index.html#val-small_int">Gen.small_int</a>.</p><ul class="at-tag"><li><span class="at-tag deprecated">Deprecated</span> use <a href="index.html#val-small_signed_int">small_signed_int</a>.</li></ul></div></div><div class="spec val" id="val-small_signed_int"><a href="#val-small_signed_int" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>small_signed_int : int <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Small signed integers.</p><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.5.2</li></ul></div></div><div class="spec val" id="val-(--)"><a href="#val-(--)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(--) : int <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> int <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Synonym to <a href="index.html#val-int_range">int_range</a>.</p></div></div><div class="spec val" id="val-int32"><a href="#val-int32" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>int32 : int32 <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Int32 generator. Uniformly distributed.</p></div></div><div class="spec val" id="val-int64"><a href="#val-int64" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>int64 : int64 <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Int64 generator. Uniformly distributed.</p></div></div><div class="spec val" id="val-pos_int"><a href="#val-pos_int" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pos_int : int <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Positive int generator (0 included). Uniformly distributed.
See <span class="xref-unresolved" title="unresolved reference to &quot;Gen.pos_int&quot;"><a href="index.html#module-Gen">Gen</a>.pos_int</span></p></div></div><div class="spec val" id="val-small_int_corners"><a href="#val-small_int_corners" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>small_int_corners : unit <span class="keyword">&#8209;&gt;</span> int <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>As <code class="code">small_int</code>, but each newly created generator starts with
a list of corner cases before falling back on random generation.</p></div></div><div class="spec val" id="val-neg_int"><a href="#val-neg_int" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>neg_int : int <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Negative int generator (0 included, see <a href="Gen/index.html#val-neg_int">Gen.neg_int</a>).
The distribution is similar to that of
<code class="code">small_int</code>, not of <code class="code">pos_int</code>.</p></div></div><div class="spec val" id="val-char"><a href="#val-char" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>char : char <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Uniformly distributed on all the chars (not just ascii or
valid latin-1).</p></div></div><div class="spec val" id="val-printable_char"><a href="#val-printable_char" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>printable_char : char <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Uniformly distributed over a subset of chars.</p></div></div><div class="spec val" id="val-numeral_char"><a href="#val-numeral_char" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>numeral_char : char <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Uniformly distributed over <code class="code">'0'..'9'</code>.</p></div></div><div class="spec val" id="val-string_gen_of_size"><a href="#val-string_gen_of_size" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>string_gen_of_size : int <a href="Gen/index.html#type-t">Gen.t</a> <span class="keyword">&#8209;&gt;</span> char <a href="Gen/index.html#type-t">Gen.t</a> <span class="keyword">&#8209;&gt;</span> string <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"></div></div><div class="spec val" id="val-string_gen"><a href="#val-string_gen" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>string_gen : char <a href="Gen/index.html#type-t">Gen.t</a> <span class="keyword">&#8209;&gt;</span> string <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Generates strings with a distribution of length of <code class="code">small_nat</code>.</p></div></div><div class="spec val" id="val-string"><a href="#val-string" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>string : string <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Generates strings with a distribution of length of <code class="code">small_nat</code>
and distribution of characters of <code class="code">char</code>.</p></div></div><div class="spec val" id="val-small_string"><a href="#val-small_string" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>small_string : string <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Same as <a href="index.html#val-string">string</a> but with a small length (that is, <code class="code">0--10</code>).</p></div></div><div class="spec val" id="val-small_list"><a href="#val-small_list" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>small_list : <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> list <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Generates lists of small size (range <code class="code">0 -- 10</code>).</p><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.5.3</li></ul></div></div><div class="spec val" id="val-string_of_size"><a href="#val-string_of_size" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>string_of_size : int <a href="Gen/index.html#type-t">Gen.t</a> <span class="keyword">&#8209;&gt;</span> string <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Generates strings with distribution of characters if <code class="code">char</code>.</p></div></div><div class="spec val" id="val-printable_string"><a href="#val-printable_string" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>printable_string : string <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Generates strings with a distribution of length of <code class="code">small_nat</code>
and distribution of characters of <code class="code">printable_char</code>.</p></div></div><div class="spec val" id="val-printable_string_of_size"><a href="#val-printable_string_of_size" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>printable_string_of_size : int <a href="Gen/index.html#type-t">Gen.t</a> <span class="keyword">&#8209;&gt;</span> string <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Generates strings with distribution of characters of <code class="code">printable_char</code>.</p></div></div><div class="spec val" id="val-small_printable_string"><a href="#val-small_printable_string" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>small_printable_string : string <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"></div></div><div class="spec val" id="val-numeral_string"><a href="#val-numeral_string" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>numeral_string : string <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Generates strings with a distribution of length of <code class="code">small_nat</code>
and distribution of characters of <code class="code">numeral_char</code>.</p></div></div><div class="spec val" id="val-numeral_string_of_size"><a href="#val-numeral_string_of_size" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>numeral_string_of_size : int <a href="Gen/index.html#type-t">Gen.t</a> <span class="keyword">&#8209;&gt;</span> string <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Generates strings with a distribution of characters of <code class="code">numeral_char</code>.</p></div></div><div class="spec val" id="val-list"><a href="#val-list" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>list : <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> list <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Generates lists with length generated by <code class="code">small_nat</code>.</p></div></div><div class="spec val" id="val-list_of_size"><a href="#val-list_of_size" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>list_of_size : int <a href="Gen/index.html#type-t">Gen.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> list <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Generates lists with length from the given distribution.</p></div></div><div class="spec val" id="val-array"><a href="#val-array" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>array : <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> array <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Generates arrays with length generated by <code class="code">small_nat</code>.</p></div></div><div class="spec val" id="val-array_of_size"><a href="#val-array_of_size" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>array_of_size : int <a href="Gen/index.html#type-t">Gen.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> array <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Generates arrays with length from the given distribution.</p></div></div><div class="spec val" id="val-pair"><a href="#val-pair" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pair : <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span>) <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Combines two generators into a generator of pairs.
Order of elements can matter (w.r.t shrinking, see <a href="Shrink/index.html#val-pair">Shrink.pair</a>)</p></div></div><div class="spec val" id="val-triple"><a href="#val-triple" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>triple : <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span><span class="keyword"> * </span><span class="type-var">'c</span>) <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Combines three generators into a generator of 3-tuples.
Order matters for shrinking, see <a href="Shrink/index.html#val-pair">Shrink.pair</a> and the likes</p></div></div><div class="spec val" id="val-quad"><a href="#val-quad" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>quad : <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span><span class="keyword"> * </span><span class="type-var">'c</span><span class="keyword"> * </span><span class="type-var">'d</span>) <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Combines four generators into a generator of 4-tuples.
Order matters for shrinking, see <a href="Shrink/index.html#val-pair">Shrink.pair</a> and the likes</p></div></div><div class="spec val" id="val-option"><a href="#val-option" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>option : <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> option <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Choose between returning Some random value, or None.</p></div></div><div class="spec val" id="val-fun1_unsafe"><a href="#val-fun1_unsafe" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fun1_unsafe : <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span>) <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Generator of functions of arity 1.
The functions are always pure and total functions:
</p><ul><li>when given the same argument (as decided by Pervasives.(=)), it returns the same value</li><li>it never does side effects, like printing or never raise exceptions etc.
The functions generated are really printable.
renamed from <a href="index.html#val-fun1">fun1</a>.</li></ul><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.6</li><li><span class="at-tag deprecated">Deprecated</span> use <a href="index.html#type-fun_">fun_</a> instead.</li><li><span class="at-tag since">Since</span>: 0.6</li></ul></div></div><div class="spec val" id="val-fun2_unsafe"><a href="#val-fun2_unsafe" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fun2_unsafe : <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'c</span>) <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Generator of functions of arity 2. The remark about <code class="code">fun1</code> also apply
here.
renamed from <a href="index.html#val-fun2">fun2</a>.</p><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.6</li><li><span class="at-tag deprecated">Deprecated</span> use <a href="index.html#type-fun_">fun_</a> instead.</li><li><span class="at-tag since">Since</span>: 0.6</li></ul></div></div><div class="spec type" id="type-fun_repr"><a href="#type-fun_repr" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>_ fun_repr</code><code></code><code></code></div><div class="doc"><p>Internal data for functions. A <code class="code">'f fun_</code> is a function
of type <code class="code">'f</code>, fundamentally.</p></div></div><div class="spec type" id="type-fun_"><a href="#type-fun_" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>_ fun_</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-fun_.Fun" class="anchored"><td class="def constructor"><a href="#type-fun_.Fun" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Fun</span><span class="keyword"> : </span><span class="type-var">'f</span> <a href="index.html#type-fun_repr">fun_repr</a><span class="keyword"> * </span><span class="type-var">'f</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-fun_">fun_</a></code></td></tr></table><code></code></div><div class="doc"><p>A function packed with the data required to print/shrink it. See <a href="Fn/index.html">Fn</a>
to see how to apply, print, etc. such a function.</p><p>One can also directly pattern match on it to obtain
the executable function.</p><p>For example:
</p><pre><code class="code">      QCheck.Test.make
        QCheck.(pair (fun1 Observable.int bool) (small_list int))
        (fun (Fun (_,f), l) -&gt; l=(List.rev_map f l |&gt; List.rev l))</code></pre></div></div><div class="spec module" id="module-Fn"><a href="#module-Fn" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Fn/index.html">Fn</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"><p>Utils on functions</p></div></div><div class="spec val" id="val-fun1"><a href="#val-fun1" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fun1 : <span class="type-var">'a</span> <a href="Observable/index.html#type-t">Observable.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span>) <a href="index.html#type-fun_">fun_</a> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p><code class="code">fun1 o ret</code> makes random functions that take an argument observable
via <code class="code">o</code> and map to random values generated from <code class="code">ret</code>.
To write functions with multiple arguments, it's better to use <a href="Tuple/index.html">Tuple</a>
or <a href="Observable/index.html#val-pair">Observable.pair</a> rather than applying <a href="index.html#type-fun_">fun_</a> several times
(shrinking will be faster).</p><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.6</li></ul></div></div><div class="spec module" id="module-Tuple"><a href="#module-Tuple" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Tuple/index.html">Tuple</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><div class="spec val" id="val-fun_nary"><a href="#val-fun_nary" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fun_nary : <span class="type-var">'a</span> <a href="Tuple/index.html#type-obs">Tuple.obs</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <a href="Tuple/index.html#type-t">Tuple.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span>) <a href="index.html#type-fun_">fun_</a> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p><code class="code">fun_nary</code> makes random n-ary functions.
Example:
</p><pre><code class="code">      let module O = Observable in
      fun_nary Tuple.(O.int @-&gt; O.float @-&gt; O.string @-&gt; o_nil) bool)</code></pre><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.6</li></ul></div></div><div class="spec val" id="val-fun2"><a href="#val-fun2" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fun2 : <span class="type-var">'a</span> <a href="Observable/index.html#type-t">Observable.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <a href="Observable/index.html#type-t">Observable.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'c</span>) <a href="index.html#type-fun_">fun_</a> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.6</li></ul></div></div><div class="spec val" id="val-fun3"><a href="#val-fun3" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fun3 : <span class="type-var">'a</span> <a href="Observable/index.html#type-t">Observable.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <a href="Observable/index.html#type-t">Observable.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'c</span> <a href="Observable/index.html#type-t">Observable.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'c</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'d</span>) <a href="index.html#type-fun_">fun_</a> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.6</li></ul></div></div><div class="spec val" id="val-fun4"><a href="#val-fun4" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fun4 : <span class="type-var">'a</span> <a href="Observable/index.html#type-t">Observable.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <a href="Observable/index.html#type-t">Observable.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'c</span> <a href="Observable/index.html#type-t">Observable.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'d</span> <a href="Observable/index.html#type-t">Observable.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'e</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'c</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'d</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'e</span>) <a href="index.html#type-fun_">fun_</a> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><ul class="at-tag"><li><span class="at-tag since">Since</span>: 0.6</li></ul></div></div><div class="spec val" id="val-oneofl"><a href="#val-oneofl" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>oneofl : ?&#8288;print:<span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;collect:(<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> string) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> list <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Pick an element randomly in the list.</p></div></div><div class="spec val" id="val-oneofa"><a href="#val-oneofa" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>oneofa : ?&#8288;print:<span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;collect:(<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> string) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> array <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Pick an element randomly in the array.</p></div></div><div class="spec val" id="val-oneof"><a href="#val-oneof" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>oneof : <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> list <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Pick a generator among the list, randomly.</p></div></div><div class="spec val" id="val-always"><a href="#val-always" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>always : ?&#8288;print:<span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Always return the same element.</p></div></div><div class="spec val" id="val-frequency"><a href="#val-frequency" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>frequency : ?&#8288;print:<span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;small:(<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> int) <span class="keyword">&#8209;&gt;</span> ?&#8288;shrink:<span class="type-var">'a</span> <a href="Shrink/index.html#type-t">Shrink.t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;collect:(<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> string) <span class="keyword">&#8209;&gt;</span> (int<span class="keyword"> * </span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a>) list <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Similar to <a href="index.html#val-oneof">oneof</a> but with frequencies.</p></div></div><div class="spec val" id="val-frequencyl"><a href="#val-frequencyl" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>frequencyl : ?&#8288;print:<span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;small:(<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> int) <span class="keyword">&#8209;&gt;</span> (int<span class="keyword"> * </span><span class="type-var">'a</span>) list <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Same as <a href="index.html#val-oneofl">oneofl</a>, but each element is paired with its frequency in
the probability distribution (the higher, the more likely).</p></div></div><div class="spec val" id="val-frequencya"><a href="#val-frequencya" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>frequencya : ?&#8288;print:<span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;small:(<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> int) <span class="keyword">&#8209;&gt;</span> (int<span class="keyword"> * </span><span class="type-var">'a</span>) array <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Same as <a href="index.html#val-frequencyl">frequencyl</a>, but with an array.</p></div></div><div class="spec val" id="val-map"><a href="#val-map" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>map : ?&#8288;rev:(<span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span>) <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p><code class="code">map f a</code> returns a new arbitrary instance that generates values using
<code class="code">a#gen</code> and then transforms them through <code class="code">f</code>.</p><ul class="at-tag"><li><span class="at-tag parameter">Parameter</span> <span class="module-path">rev</span>: if provided, maps values back to type <code class="code">'a</code> so that the printer,
shrinker, etc. of <code class="code">a</code> can be used. We assume <code class="code">f</code> is monotonic in
this case (that is, smaller inputs are transformed into smaller outputs).</li></ul></div></div><div class="spec val" id="val-map_same_type"><a href="#val-map_same_type" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>map_same_type : (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p>Specialization of <code class="code">map</code> when the transformation preserves the type, which
makes shrinker, printer, etc. still relevant.</p></div></div><div class="spec val" id="val-map_keep_input"><a href="#val-map_keep_input" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>map_keep_input : ?&#8288;print:<span class="type-var">'b</span> <a href="Print/index.html#type-t">Print.t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;small:(<span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> int) <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span>) <a href="index.html#type-arbitrary">arbitrary</a></code></div><div class="doc"><p><code class="code">map_keep_input f a</code> generates random values from <code class="code">a</code>, and maps them into
values of type <code class="code">'b</code> using the function <code class="code">f</code>, but it also keeps the
original value.
For shrinking, it is assumed that <code class="code">f</code> is monotonic and that smaller input
values will map into smaller values.</p><ul class="at-tag"><li><span class="at-tag parameter">Parameter</span> <span class="module-path">print</span>: optional printer for the <code class="code">f</code>'s output.</li></ul></div></div></body></html>