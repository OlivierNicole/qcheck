<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="next" href="QCheck.PP.html">
<link rel="Up" href="QCheck.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="QCheck" rel="Chapter" href="QCheck.html"><title>QCheck.Arbitrary</title>
</head>
<body>
<div class="navbar">&nbsp;<a class="up" href="QCheck.html" title="QCheck">Up</a>
&nbsp;<a class="post" href="QCheck.PP.html" title="QCheck.PP">Next</a>
</div>
<h1>Module <a href="type_QCheck.Arbitrary.html">QCheck.Arbitrary</a></h1>

<pre><span class="keyword">module</span> Arbitrary: <code class="code">sig</code> <a href="QCheck.Arbitrary.html">..</a> <code class="code">end</code></pre><hr width="100%">

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type">'a</code> t</span> = <code class="type">Random.State.t -> 'a</code> </pre>
<div class="info ">
A generator of arbitrary values of type 'a<br>
</div>


<pre><span id="VALreturn"><span class="keyword">val</span> return</span> : <code class="type">'a -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Return always the same value (e.g. <code class="code">4</code>)<br>
</div>

<pre><span id="VALint"><span class="keyword">val</span> int</span> : <code class="type">int -> int <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Any integer between 0 (inclusive) and the given higher bound (exclusive)<br>
</div>

<pre><span id="VALint_range"><span class="keyword">val</span> int_range</span> : <code class="type">start:int -> stop:int -> int <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre>
<pre><span id="VAL(--)"><span class="keyword">val</span> (--)</span> : <code class="type">int -> int -> int <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Infix synonym for <a href="QCheck.Arbitrary.html#VALint_range"><code class="code">QCheck.Arbitrary.int_range</code></a><br>
</div>

<pre><span id="VALsmall_int"><span class="keyword">val</span> small_int</span> : <code class="type">int <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Ints lower than 100<br>
</div>

<pre><span id="VALsplit_int"><span class="keyword">val</span> split_int</span> : <code class="type">int <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> (int * int) <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">split_int gen</code> generates a number <code class="code">n</code> from <code class="code">gen</code>, and
        returns <code class="code">i, j</code> where <code class="code">i + j = n</code><br>
</div>

<pre><span id="VALbool"><span class="keyword">val</span> bool</span> : <code class="type">bool <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Arbitrary boolean<br>
</div>

<pre><span id="VALchar"><span class="keyword">val</span> char</span> : <code class="type">char <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
A (printable) char<br>
</div>

<pre><span id="VALalpha"><span class="keyword">val</span> alpha</span> : <code class="type">char <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Alphabetic char<br>
</div>

<pre><span id="VALfloat"><span class="keyword">val</span> float</span> : <code class="type">float -> float <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Random float<br>
</div>

<pre><span id="VALstring"><span class="keyword">val</span> string</span> : <code class="type">string <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Random strings of small length<br>
</div>

<pre><span id="VALstring_len"><span class="keyword">val</span> string_len</span> : <code class="type">int <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> string <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
String of random length<br>
</div>

<pre><span id="VALmap"><span class="keyword">val</span> map</span> : <code class="type">'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> ('a -> 'b) -> 'b <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Transform an arbitrary into another<br>
</div>

<pre><span id="VALmap'"><span class="keyword">val</span> map'</span> : <code class="type">('a -> 'b) -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'b <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
<b>Since</b> 0.3<br>
</div>

<pre><span id="VALlist"><span class="keyword">val</span> list</span> : <code class="type">?len:int <a href="QCheck.Arbitrary.html#TYPEt">t</a> -><br>       'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'a list <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
List of arbitrary length. Default <code class="code">len</code> is between 0 and 10.<br>
</div>

<pre><span id="VALopt"><span class="keyword">val</span> opt</span> : <code class="type">'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'a option <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
May return a value, or None<br>
</div>

<pre><span id="VALpair"><span class="keyword">val</span> pair</span> : <code class="type">'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -><br>       'b <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> ('a * 'b) <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre>
<pre><span id="VALtriple"><span class="keyword">val</span> triple</span> : <code class="type">'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -><br>       'b <a href="QCheck.Arbitrary.html#TYPEt">t</a> -><br>       'c <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> ('a * 'b * 'c) <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre>
<pre><span id="VALquad"><span class="keyword">val</span> quad</span> : <code class="type">'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -><br>       'b <a href="QCheck.Arbitrary.html#TYPEt">t</a> -><br>       'c <a href="QCheck.Arbitrary.html#TYPEt">t</a> -><br>       'd <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> ('a * 'b * 'c * 'd) <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre>
<pre><span id="VALlist_repeat"><span class="keyword">val</span> list_repeat</span> : <code class="type">int -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'a list <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Lists of given length exactly<br>
</div>

<pre><span id="VALarray"><span class="keyword">val</span> array</span> : <code class="type">?len:int <a href="QCheck.Arbitrary.html#TYPEt">t</a> -><br>       'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'a array <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Random array of random length<br>
</div>

<pre><span id="VALarray_repeat"><span class="keyword">val</span> array_repeat</span> : <code class="type">int -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'a array <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Random array of given length<br>
</div>

<pre><span id="VALamong"><span class="keyword">val</span> among</span> : <code class="type">'a list -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Choose an element among those of the list<br>
</div>

<pre><span id="VALamong_array"><span class="keyword">val</span> among_array</span> : <code class="type">'a array -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Choose in the array<br>
</div>

<pre><span id="VALshuffle"><span class="keyword">val</span> shuffle</span> : <code class="type">'a array -> unit <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Shuffle the array in place<br>
<b>Since</b> 0.3<br>
</div>

<pre><span id="VALchoose"><span class="keyword">val</span> choose</span> : <code class="type">'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> list -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Choice among a list generators<br>
</div>

<pre><span id="VAL(|||)"><span class="keyword">val</span> (|||)</span> : <code class="type">'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Choice among two generators. <code class="code">a ||| b</code> is the same as <code class="code">choose [a;b]</code>.<br>
</div>

<pre><span id="VALfix"><span class="keyword">val</span> fix</span> : <code class="type">?max:int -><br>       base:'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -><br>       ('a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a>) -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Recursive arbitrary values. The optional value <code class="code">max</code> defines
        the maximal depth, if needed (default 15). <code class="code">base</code> is the base case.<br>
</div>

<pre><span id="VALfix_depth"><span class="keyword">val</span> fix_depth</span> : <code class="type">depth:int <a href="QCheck.Arbitrary.html#TYPEt">t</a> -><br>       base:'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -><br>       ('a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a>) -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Recursive values of at most given random depth<br>
</div>

<pre><span id="VALfail_fix"><span class="keyword">val</span> fail_fix</span> : <code class="type">unit -> 'a</code></pre><div class="info ">
Function used to indicate that, in <a href="QCheck.Arbitrary.html#VALfix_fuel"><code class="code">QCheck.Arbitrary.fix_fuel</code></a>, a sub-case is
        impossible to fulfill.<br>
<b>Since</b> 0.4<br>
</div>

<pre><span id="TYPErecursive_case"><span class="keyword">type</span> <code class="type">'a</code> recursive_case</span> = <code class="type">[ `Base of 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a><br>       | `Base_fuel of int -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a><br>       | `Rec of (int -> 'a list <a href="QCheck.Arbitrary.html#TYPEt">t</a>) -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a><br>       | `Rec1 of 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a><br>       | `Rec2 of<br>           'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a><br>       | `Rec_fuel of<br>           (int -> 'a list <a href="QCheck.Arbitrary.html#TYPEt">t</a>) -> int -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> ]</code> </pre>
<div class="info ">
What is a recursive case for a fueled fixpoint?<br>
</div>


<pre><span id="VALfix_fuel"><span class="keyword">val</span> fix_fuel</span> : <code class="type">'a <a href="QCheck.Arbitrary.html#TYPErecursive_case">recursive_case</a> list -><br>       int -> 'a option <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">fix_fuel l fuel</code> consumes <code class="code">fuel</code> in recursive subcases. The idea
        is that <code class="code">l</code> contains one or more recursive builders, such that
        every <code class="code">f</code> in <code class="code">l</code> is given a function <code class="code">f' : int -&gt; 'a list t</code>,
        to call with an integer <code class="code">n</code> so as to obtain <code class="code">n</code> recursive subcases. The
        function <code class="code">f'</code> <b>MUST</b> be called exactly once per case <code class="code">f</code> in <code class="code">l</code>..<br>
<b>Since</b> 0.3<br>
</div>
<br>
Example:
<pre class="codepre"><code class="code">type tree = Node of tree * tree | Leaf of int;;

let leaf_ x = Leaf x;;
let node_ x y = Node (x,y);;

let rand_tree =
   fix_fuel [
     `Base (small_int &gt;|= leaf_);
     `Rec (fun self -&gt;
        self 2 &gt;&gt;= function [x;y] -&gt;
        return (node_ x y))
    ];;

generate (rand_tree 20);;  (* generate trees with 20 nodes *)

type tree' = Node2 of tree' * tree' | Node1 of tree' | Leaf' of int;;

let leaf' x = Leaf' x ;;
let node2 x y = Node2(x,y) ;;
let node1 x = Node1 x;;

(* alternative with [`Rec2] *)
let rand_tree' =
  fix_fuel [
     `Base (small_int &gt;|= leaf');
     `Rec1 (fun self -&gt; self &gt;|= node1);
     `Rec2 (fun self1 self2 -&gt; pure node2 &lt;*&gt; self1 &lt;*&gt; self2)
    ];;

generate ~n:1 (rand_tree' 20);;
</code></pre><br>

<pre><span id="TYPEgeneral_recursive_case"><span class="keyword">type</span> <code class="type">('a, 'state)</code> general_recursive_case</span> = <code class="type">[ `Base of 'state -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a><br>       | `Base_fuel of int -> 'state -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a><br>       | `Rec of<br>           (int -> ('state -> 'a) list <a href="QCheck.Arbitrary.html#TYPEt">t</a>) -><br>           'state -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a><br>       | `Rec1 of<br>           ('state -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a>) -> 'state -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a><br>       | `Rec2 of<br>           ('state -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a>) -><br>           ('state -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a>) -> 'state -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a><br>       | `Rec_fuel of<br>           (int -> ('state -> 'a) list <a href="QCheck.Arbitrary.html#TYPEt">t</a>) -><br>           int -> 'state -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> ]</code> </pre>
<div class="info ">
What is a recursive case for a general fueled fixpoint?<br>
</div>


<pre><span id="VALfix_fuel_gen"><span class="keyword">val</span> fix_fuel_gen</span> : <code class="type">('a, 'state) <a href="QCheck.Arbitrary.html#TYPEgeneral_recursive_case">general_recursive_case</a> list -><br>       int -> 'state -> 'a option <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">fix_fuel_gen l state fuel</code> consumes <code class="code">fuel</code> in recursive subcases, similar
        to what <code class="code">fix_fuel l fuel</code> would do, but more general because a
        "state" is passed bottom-up. In recursive subcases,
        is that <code class="code">l</code> contains one or more recursive builders, such that
        every <code class="code">f</code> in <code class="code">l</code> is given a function <code class="code">f' : int -&gt; ('state -&gt; 'a) list t</code>,
        to call with an integer <code class="code">n</code> so as to obtain <code class="code">n</code> recursive subcases. The
        function <code class="code">f'</code> <b>MUST</b> be called exactly once per case <code class="code">f</code> in <code class="code">l</code>..<br>
<b>Since</b> 0.4<br>
</div>

<pre><span id="VALlift"><span class="keyword">val</span> lift</span> : <code class="type">('a -> 'b) -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'b <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre>
<pre><span id="VALlift2"><span class="keyword">val</span> lift2</span> : <code class="type">('a -> 'b -> 'c) -><br>       'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'b <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'c <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre>
<pre><span id="VALlift3"><span class="keyword">val</span> lift3</span> : <code class="type">('a -> 'b -> 'c -> 'd) -><br>       'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -><br>       'b <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'c <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'd <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre>
<pre><span id="VALlift4"><span class="keyword">val</span> lift4</span> : <code class="type">('a -> 'b -> 'c -> 'd -> 'e) -><br>       'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -><br>       'b <a href="QCheck.Arbitrary.html#TYPEt">t</a> -><br>       'c <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'd <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'e <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre>
<pre><span id="VAL(>>=)"><span class="keyword">val</span> (&gt;&gt;=)</span> : <code class="type">'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -><br>       ('a -> 'b <a href="QCheck.Arbitrary.html#TYPEt">t</a>) -> 'b <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Monadic bind<br>
</div>

<pre><span id="VAL(>|=)"><span class="keyword">val</span> (&gt;|=)</span> : <code class="type">'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> ('a -> 'b) -> 'b <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
<b>Since</b> 0.3<br>
</div>

<pre><span id="VAL(<*>)"><span class="keyword">val</span> (&lt;*&gt;)</span> : <code class="type">('a -> 'b) <a href="QCheck.Arbitrary.html#TYPEt">t</a> -><br>       'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'b <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
<b>Since</b> 0.3<br>
</div>

<pre><span id="VALpure"><span class="keyword">val</span> pure</span> : <code class="type">'a -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
<b>Since</b> 0.3<br>
</div>

<pre><span id="VALretry"><span class="keyword">val</span> retry</span> : <code class="type">'a option <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a></code></pre><div class="info ">
Generate until a Some value is returned<br>
</div>

<pre><span id="VALgenerate"><span class="keyword">val</span> generate</span> : <code class="type">?n:int -> ?rand:Random.State.t -> 'a <a href="QCheck.Arbitrary.html#TYPEt">t</a> -> 'a list</code></pre><div class="info ">
Generate <code class="code">n</code> random values of the given type<br>
</div>
</body></html>